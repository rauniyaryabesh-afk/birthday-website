<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Happy Birthday <span id="nameTop">Siru</span> ğŸŒ™</title>
  <link rel="stylesheet" href="style.css" />
</head>
<body>
  <!-- floating hearts -->
  <div id="hearts" aria-hidden="true"></div>

  <!-- background music -->
  <audio id="bgMusic" src="music/happy-birthday.mp3" preload="auto"></audio>

  <!-- ============ SCREEN: WISH FIRST ============ -->
  <section class="screen active" id="sWishFirst">
    <div class="card hero">
      <div class="badge">ğŸŒ™ Under the same moon</div>
      <h1 class="h1">Happy Birthday <span id="nameTop">Siru</span> ğŸ‚</h1>
      <p class="lead typed" id="wishFirstTyped"></p>

      <button class="btn primary wide" id="wishFirstNext">Okayâ€¦ Iâ€™m listening ğŸ˜Œ â†’</button>
      <p class="small muted">Tip: go slowly baby ğŸ¤</p>
    </div>
  </section>

  <!-- ============ SCREEN: WANNA SEE SURPRISE ============ -->
  <section class="screen" id="sWanna">
    <div class="card hero">
      <div class="badge">ğŸ Surprise time</div>
      <h2 class="h2">Wanna see the surprises on your birthday?</h2>
      <p class="muted">Itâ€™s your special day ğŸ˜Œ</p>

      <div class="chooseGrid">
        <button class="btn primary" id="wannaYes">Yes baby ğŸ˜Œ</button>
        <button class="btn danger soft" id="wannaNo">No ğŸ˜¤</button>
      </div>
    </div>
  </section>

  <!-- ============ SCREEN: NOPE 1 ============ -->
  <section class="screen" id="sNope1">
    <div class="card hero">
      <div class="badge">ğŸ˜¤ Huh??</div>
      <h2 class="h2">No? why?</h2>
      <p class="lead">
        Are you upset baby? ğŸ˜¶<br/>
        Donâ€™t be like thatâ€¦ I made this with love ğŸ˜ŒğŸ’—<br/>
        And itâ€™s your birthday today ğŸ‚
      </p>

      <div class="chooseGrid">
        <button class="btn ghost" id="nopeBack1">Okay fineâ€¦ show me ğŸ˜¶</button>
        <button class="btn danger soft" id="nopeMore">Still no ğŸ™„</button>
      </div>

      <p class="small muted">(Be honest ğŸ˜­)</p>
    </div>
  </section>

  <!-- ============ SCREEN: NOPE 2 ============ -->
  <section class="screen" id="sNope2">
    <div class="card hero">
      <div class="badge">ğŸ˜¤ Listen Miss</div>
      <h2 class="h2">Iâ€™m not accepting â€œnoâ€ today ğŸ˜Œ</h2>
      <p class="lead">
        Itâ€™s your birthday babyâ€¦<br/>
        If you donâ€™t open this surprise,<br/>
        Iâ€™ll come to Nepal and show you myself ğŸ˜¤ğŸ’–
      </p>

      <button class="btn primary wide" id="nopeBack2">Okay okayâ€¦ show me ğŸ™ˆ</button>
      <p class="hint">(Good girl ğŸ˜Œ)</p>
    </div>
  </section>

  <!-- ============ SCREEN: MOOD ============ -->
  <section class="screen" id="sMood">
    <div class="card hero">
      <div class="badge">ğŸ’­ Mood check</div>
      <h2 class="h2">Howâ€™s the birthday girl feeling right now? ğŸ‚</h2>

      <div class="grid3">
        <button class="btn ghost" id="mHappy">Happy ğŸ˜Š</button>
        <button class="btn ghost" id="mTired">Tired ğŸ˜´</button>
        <button class="btn ghost" id="mAnnoyed">Annoyed ğŸ˜¤</button>
      </div>

      <p class="lead" id="moodReply"></p>

      <button class="btn primary wide" id="moodNext" disabled>Okayâ€¦ continue ğŸ¤ â†’</button>
    </div>
  </section>

  <!-- ============ SCREEN: TRUST ============ -->
  <section class="screen" id="sTrust">
    <div class="card hero">
      <div class="badge">ğŸ¤ One question</div>
      <h2 class="h2">Do you trust me?</h2>

      <div class="chooseGrid">
        <button class="btn ghost" id="tYes">Yes, I trust you ğŸ’–</button>
        <button class="btn ghost" id="tDepends">Hmmâ€¦ depends ğŸ˜</button>
      </div>

      <p class="lead" id="trustMsg"></p>
      <button class="btn primary wide" id="trustNext" disabled>Okayâ€¦ next ğŸ˜Œ â†’</button>
    </div>
  </section>

  <!-- ============ SCREEN: PROMISE ============ -->
  <section class="screen" id="sPromise">
    <div class="card hero">
      <div class="badge">ğŸ¤ Promise</div>
      <h2 class="h2">One condition before we startâ€¦</h2>
      <p class="muted">Since itâ€™s your birthday ğŸ˜Œ</p>

      <p class="lead">Promise me youâ€™ll go slowly and feel everything?</p>

      <div class="chooseGrid">
        <button class="btn ghost" id="pYes">I promise ğŸ¤</button>
        <button class="btn ghost" id="pNo">No conditions ğŸ˜¤</button>
      </div>

      <p class="lead" id="promiseMsg"></p>
      <button class="btn primary wide" id="promiseNext" disabled>Continue ğŸ â†’</button>
    </div>
  </section>

  <!-- ============ SCREEN: LOADING ============ -->
  <section class="screen" id="sLoad">
    <div class="card hero">
      <div class="badge">âœ¨ Preparing</div>
      <h2 class="h2">Preparing your birthday surpriseâ€¦</h2>

      <div class="bar">
        <div class="barFill" id="barFill"></div>
      </div>
      <p class="muted" id="barText">Loadingâ€¦</p>
    </div>
  </section>

  <!-- ============ SCREEN: GATE ============ -->
  <section class="screen" id="sGate">
    <div class="card hero">
      <div class="badge">ğŸ”’ Unlock</div>
      <h2 class="h2">Okay <span id="nameGate">Siru</span>â€¦ one small lock ğŸ˜Œ</h2>

      <label class="label">Write the first date we met:</label>
      <input class="input" id="gateInput" placeholder="DD/MM/YYYY" />
      <button class="btn primary wide" id="gateBtn">Unlock ğŸ”“</button>

      <p class="small" id="gateMsg"></p>
      <p class="small muted">Hint: Type it in <b>DD/MM/YYYY</b> format (example: 05/12/2023)</p>
    </div>
  </section>

  <!-- ============ SCREEN: CAKE (tap to start music + blow candles) ============ -->
  <section class="screen" id="sCake">
    <div class="card hero">
      <div class="badge">ğŸ‚ Birthday ritual</div>
      <h2 class="h2">Happy Birthday <span id="nameCake">Siru</span> ğŸŒ™</h2>
      <p class="muted">Tap the cake to begin ğŸ¶</p>

      <div class="cakeStage">
        <button class="cakeBtn" id="cakeBtn" aria-label="Tap the cake">
          <!-- Cake SVG -->
          <svg class="cakeSvg" viewBox="0 0 520 360" aria-hidden="true">
            <ellipse cx="260" cy="320" rx="190" ry="26" fill="rgba(255,255,255,0.12)"/>
            <ellipse cx="260" cy="320" rx="160" ry="18" fill="rgba(255,255,255,0.07)"/>

            <path d="M120 140 Q260 80 400 140 L420 290 Q260 330 100 290 Z"
                  fill="rgba(255,210,235,0.35)" stroke="rgba(255,255,255,0.14)" stroke-width="3"/>

            <path d="M120 140 Q160 110 200 130 Q240 150 280 125 Q320 100 360 135 Q390 160 400 140
                     Q260 90 120 140 Z"
                  fill="rgba(255,150,210,0.35)" stroke="rgba(255,255,255,0.14)" stroke-width="3"/>

            <path d="M135 165 Q150 195 160 165 Q170 200 185 165 Q200 205 215 165
                     Q230 195 245 165 Q260 205 275 165 Q290 195 305 165
                     Q320 210 335 165 Q350 195 365 165 Q380 200 395 165"
                  fill="none" stroke="rgba(255,170,220,0.55)" stroke-width="10" stroke-linecap="round"/>

            <g id="candles">
              <rect x="210" y="86" width="18" height="55" rx="8" fill="rgba(255,255,255,0.35)"/>
              <rect x="251" y="78" width="18" height="63" rx="8" fill="rgba(255,255,255,0.28)"/>
              <rect x="292" y="88" width="18" height="53" rx="8" fill="rgba(255,255,255,0.32)"/>
              <path class="flame" d="M219 78 C210 92 214 102 219 108 C224 102 228 92 219 78Z" fill="rgba(255,200,120,0.75)"/>
              <path class="flame" d="M260 70 C251 84 255 96 260 102 C265 96 269 84 260 70Z" fill="rgba(255,200,120,0.75)"/>
              <path class="flame" d="M301 80 C292 94 296 104 301 110 C306 104 310 94 301 80Z" fill="rgba(255,200,120,0.75)"/>
            </g>
          </svg>

          <span class="tapDot" id="dot"></span>
        </button>
      </div>

      <p class="lead" id="cakeHint">Tap the cake once to start music ğŸ¶</p>
      <p class="small" id="cakeState">Waitingâ€¦</p>

      <div class="miniControls">
        <button class="btn ghost" id="musicPlay">Play ğŸ¶</button>
        <button class="btn ghost" id="musicPause">Pause</button>
        <span class="muted" id="musicMini"></span>
      </div>

      <button class="btn primary wide" id="cakeNext" disabled>Okayâ€¦ I made my wish ğŸ‚ â†’</button>
    </div>
  </section>

  <!-- ============ SCREEN: CAKE CUT + FIRST CAKE QUESTION ============ -->
  <section class="screen" id="sCut">
    <div class="card hero">
      <div class="badge">ğŸ° Cake time</div>
      <h2 class="h2">Now cut the cake, birthday girl ğŸ˜Œ</h2>
      <p class="muted">Tap the knife to cut âœ¨</p>

      <div class="cutWrap">
        <div class="cakeArt" id="cakeArt">
          <svg class="cakeSvg" viewBox="0 0 520 360" aria-hidden="true">
            <ellipse cx="260" cy="320" rx="190" ry="26" fill="rgba(255,255,255,0.12)"/>
            <ellipse cx="260" cy="320" rx="160" ry="18" fill="rgba(255,255,255,0.07)"/>

            <path d="M120 140 Q260 80 400 140 L420 290 Q260 330 100 290 Z"
                  fill="rgba(255,210,235,0.35)" stroke="rgba(255,255,255,0.14)" stroke-width="3"/>

            <path d="M120 140 Q160 110 200 130 Q240 150 280 125 Q320 100 360 135 Q390 160 400 140
                     Q260 90 120 140 Z"
                  fill="rgba(255,150,210,0.35)" stroke="rgba(255,255,255,0.14)" stroke-width="3"/>

            <path d="M135 165 Q150 195 160 165 Q170 200 185 165 Q200 205 215 165
                     Q230 195 245 165 Q260 205 275 165 Q290 195 305 165
                     Q320 210 335 165 Q350 195 365 165 Q380 200 395 165"
                  fill="none" stroke="rgba(255,170,220,0.55)" stroke-width="10" stroke-linecap="round"/>

            <!-- slice overlay (hidden until cut) -->
            <g id="sliceGroup" class="sliceGroup">
              <path d="M318 138 Q260 110 200 138 L212 286 Q260 308 306 286 Z"
                    fill="rgba(255,255,255,0.12)" stroke="rgba(255,255,255,0.18)" stroke-width="2"/>
              <path d="M318 138 Q260 100 200 138"
                    fill="none" stroke="rgba(255,170,220,0.55)" stroke-width="10" stroke-linecap="round"/>
            </g>

            <!-- cut line shimmer -->
            <path id="cutLine" d="M300 140 L320 290" stroke="rgba(255,255,255,0.0)" stroke-width="7" stroke-linecap="round"/>
          </svg>

          <button class="knifeBtn" id="knifeBtn" aria-label="Cut the cake">ğŸ”ª</button>
        </div>
      </div>

      <div class="qaBox" id="qaBox">
        <p class="lead" style="margin:0 0 10px 0;">
          <b>Kaslai dine honi first cake?</b> ğŸ˜Œ
        </p>

        <div class="grid2" id="cakeChoiceBtns">
          <button class="btn ghost" id="cakeToMe">Malai ğŸ˜Œ</button>
          <button class="btn ghost" id="cakeToOthers">Arulai ğŸ™„</button>
        </div>

        <p class="lead" id="cutReply" style="margin-top:12px;"></p>

        <button class="btn primary wide" id="cutJk" style="display:none; margin-top:10px;">
          Nai nai jiskeko hoâ€¦ you know my habit, Yabby ğŸ˜Œ
        </button>

        <button class="btn primary wide" id="cutNext" disabled style="margin-top:10px; display:none;">
          Okayâ€¦ continue ğŸŒ™ â†’
        </button>
      </div>
    </div>
  </section>

  <!-- ============ SCREEN: PAUSE ============ -->
  <section class="screen" id="sPause">
    <div class="card hero">
      <div class="badge">â³ Small pause</div>
      <h2 class="h2">Waitâ€¦ donâ€™t click anything yet ğŸ˜Œ</h2>

      <div class="count" id="pauseCount">10</div>
      <p class="lead" id="pauseText"></p>

      <button class="btn primary wide" id="pauseNext" disabled>Iâ€™m ready ğŸŒ™ â†’</button>
    </div>
  </section>

  <!-- ============ SCREEN: FIGHT MESSAGE ============ -->
  <section class="screen" id="sFight">
    <div class="card hero">
      <div class="badge">ğŸ«¶ Something real</div>
      <h2 class="h2">Just one real thingâ€¦</h2>

      <div class="quote">
        <p class="lead typed" id="fightTyped"></p>
      </div>

      <div class="grid2">
        <button class="btn ghost" id="fightSkip">Skip typing</button>
        <button class="btn primary" id="fightNext" disabled>Continue ğŸ¤ â†’</button>
      </div>
    </div>
  </section>

  <!-- ============ SCREEN: APOLOGY (Idea 5) ============ -->
  <section class="screen" id="sApology">
    <div class="card">
      <div class="badge">ğŸ•Šï¸ One small thing</div>
      <h2 class="h2">Just quietlyâ€¦</h2>
      <p class="muted">No drama. Just truth ğŸ˜Œ</p>

      <div class="quote">
        <p id="apologyTyped" class="lead"></p>
      </div>

      <div class="grid2" style="margin-top:14px;">
        <button class="btn ghost" id="apologySkip">Skip typing</button>
        <button class="btn primary" id="apologyNext" disabled>I know ğŸ¤</button>
      </div>

      <p class="small muted">Birthday reminder: Iâ€™m grateful you were born ğŸ‚</p>
    </div>
  </section>

  <!-- ============ SCREEN: CHOOSE EACH OTHER ============ -->
  <section class="screen" id="sChoose">
    <div class="card hero">
      <div class="badge">ğŸ¤ One choice</div>
      <h2 class="h2">On your birthdayâ€¦ I just want to ask you one thing ğŸ˜Œ</h2>

      <div class="grid2">
        <button class="btn ghost" id="giveUpBtn">Letâ€™s give up ğŸ˜</button>
        <button class="btn primary" id="chooseBtn">Letâ€™s choose each other ğŸ¤</button>
      </div>

      <p class="lead" id="chooseMsg"></p>
    </div>
  </section>

  <!-- ============ SCREEN: LOVE LETTER ============ -->
  <section class="screen" id="sLetter">
    <div class="card hero">
      <div class="badge">ğŸ’Œ Love letter</div>
      <h2 class="h2">Read slowlyâ€¦</h2>

      <div class="quote">
        <p class="lead typed" id="letterTyped"></p>
        <p class="sig" id="letterSig" style="display:none;"></p>
      </div>

      <div class="grid2">
        <button class="btn ghost" id="letterSkip">Skip typing</button>
        <button class="btn primary" id="letterNext" disabled>Continue ğŸŒ™ â†’</button>
      </div>
    </div>
  </section>

  <!-- ============ SCREEN: MEMORIES ============ -->
  <section class="screen" id="sMem">
    <div class="card hero">
      <div class="badge">ğŸ“¸ Memories</div>
      <h2 class="h2" id="memTitle">On your birthdayâ€¦</h2>
      <p class="lead" id="memPrompt"></p>

      <div class="grid3" id="memOptions"></div>

      <p class="lead" id="memReply"></p>

      <div class="memFrame" id="memFrame" style="display:none;">
        <div class="memPhoto" id="memPhoto1"></div>
        <div class="memPhoto" id="memPhoto2"></div>
      </div>
      <p class="muted" id="memCap"></p>

      <div class="grid3" style="margin-top:12px;">
        <button class="btn ghost" id="memPrev">Back</button>
        <button class="btn ghost" id="memNext" disabled>Next memory ğŸŒ¸</button>
        <button class="btn primary" id="memFinal" style="display:none;">One last thingâ€¦ ğŸŒ™</button>
      </div>
    </div>
  </section>

  <!-- ============ SCREEN: ENDING CHOICE (Idea 7) ============ -->
  <section class="screen" id="sEnding">
    <div class="card hero">
      <div class="badge">ğŸŒ™ Your ending</div>
      <h2 class="h2">Since itâ€™s your birthdayâ€¦ how do you want to end this?</h2>
      <p class="muted">Choose the vibe ğŸ˜Œ</p>

      <div class="grid3">
        <button class="btn ghost" id="endSoft">Soft & emotional ğŸ¤</button>
        <button class="btn ghost" id="endFunny">Funny & cute ğŸ˜„</button>
        <button class="btn ghost" id="endHopeful">Hopeful & future ğŸŒ±</button>
      </div>

      <div class="typebox" style="margin-top:14px;">
        <h3 class="h3" id="endingTitle">Choose your ending ğŸŒ™</h3>
        <p class="lead" id="endingText"></p>
      </div>

      <button class="btn primary wide" id="endingNext" disabled>Go to final surprise â†’</button>
    </div>
  </section>

  <!-- ============ SCREEN: FINAL ============ -->
  <section class="screen" id="sFinal">
    <div class="card hero finalCard">
      <canvas id="confetti"></canvas>

      <div class="badge">ğŸ‰ Final</div>
      <h2 class="h2">Happy Birthday <span id="nameFinal">Siru</span> ğŸŒ™</h2>

      <button class="btn primary wide" id="finalBtn">What?</button>

      <div class="finalBox" id="finalBox" style="display:none;">
        <p class="lead">
          Happy Birthday, Siru ğŸŒ™<br/><br/>
          Iâ€™m glad the world got you.<br/><br/>
          And Iâ€™m even more glad<br/>
          I get to love you ğŸ¤
        </p>

        <p class="muted">If you smiled even a littleâ€¦ screenshot and send me ğŸ˜Œ</p>

        <div class="grid2">
          <button class="btn ghost" id="musicToggle">Pause Music</button>
          <button class="btn ghost" id="restart">Restart</button>
        </div>
      </div>
    </div>
  </section>

  <script src="script.js"></script>
</body>
</html>
